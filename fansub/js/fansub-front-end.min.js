jQuery(document).ready(function(t){var a=t("body");!function(){t(".sf-menu, .fansub-superfish-menu > ul").each(function(){var a=t(this),e={hoverClass:"sf-hover",delay:100,cssArrows:!1,dropShadows:!1};a.hasClass("sf-menu")||a.addClass("sf-menu"),a.hasClass("slide")&&(e.animation={height:"show",marginTop:"show",marginBottom:"show",paddingTop:"show",paddingBottom:"show"},e.animationOut={height:"hide",marginTop:"hide",marginBottom:"hide",paddingTop:"hide",paddingBottom:"hide"}),a.hasClass("arrow")&&(e.cssArrows=!0),a.superfish(e)})}(),function(){t(".fansub-go-top").fansubScrollTop()}(),function(){t('input[type="file"].fansub-field-upload').each(function(){fansub.limitUploadFile(t(this))})}(),function(){t(".fansub .comment-tools .comment-likes").on("click",function(a){a.preventDefault();var e=t(this),o=e.closest(".comment"),s=e.find(".count"),i=parseInt(o.attr("data-comment-id")),n=parseInt(e.attr("data-likes"));return e.addClass("disabled"),e.css({"text-decoration":"none"}),t.ajax({type:"POST",dataType:"json",url:fansub.ajax_url,data:{action:"fansub_comment_likes",comment_id:i,likes:n},success:function(t){n++,e.attr("data-likes",n),s.html(t.likes)}}),!1}),t(".fansub .comment-tools .comment-report").on("click",function(a){a.preventDefault();var e=t(this),o=e.closest(".comment"),s=parseInt(o.attr("data-comment-id"));return e.addClass("disabled"),e.css({"text-decoration":"none"}),t.ajax({type:"POST",dataType:"json",url:fansub.ajax_url,data:{action:"fansub_comment_report",comment_id:s},success:function(t){}}),!1}),t(".fansub .comment-tools .comment-share").on("click",function(a){a.preventDefault();var e=t(this);return e.css({"text-decoration":"none"}),e.toggleClass("active"),!1}),t(".fansub .comment-tools .comment-share .list-share .fa").on("click",function(a){a.preventDefault();var e=t(this);e.css({"text-decoration":"none"}),window.open(e.attr("data-url"),"ShareWindow","height=450, width=550, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0")})}(),function(){fansub.iconChangeCaptchaExecute()}(),function(){t(".fansub.fansub-google-maps .fansub-field-maps").fansubGoogleMaps()}(),function(){t(".vote .vote-post").on("click",function(a){a.preventDefault();var e=t(this),o=e.parent(),s=e.attr("data-vote-type"),i=o.attr("data-post-id");e.addClass("disabled"),t.ajax({type:"POST",dataType:"json",url:fansub.ajax_url,data:{action:"fansub_vote_post",post_id:i,vote_type:s,value:e.attr("data-vote")},success:function(t){t.success&&(e.attr("data-vote",t.value),o.addClass("disabled"))}})})}(),function(){var a=t("#fansubCart");a.length&&a.on("click",".fansub-post .fa-remove",function(a){a.preventDefault();var e=t(this),o=e.attr("data-id"),s=e.closest(".fansub-post"),i=e.closest(".fansub-cart-contents");e.addClass("disabled"),t.ajax({type:"POST",dataType:"json",url:fansub.ajax_url,data:{action:"fansub_wc_remove_cart_item",post_id:o},success:function(t){s.fadeOut(),s.remove(),t.updated&&i.html(t.cart_contents)}})})}(),function(){var a=t(".fansub-tabber-widget");a.length&&(a.each(function(){var a=t(this),e=a.find("ul.nav-tabs");a.find(".tab-item").each(function(){var a=t(this).attr("id");t(this).find("a.tab-title").attr("href","#"+a).wrap("<li></li>").parent().detach().appendTo(e)}),e.find("li:first").addClass("active"),e.fadeIn(),a.find(".tab-pane:first").addClass("active")}),a.on("click",".nav-tabs li a",function(a){a.preventDefault();var e=t(this),o=e.attr("href").replace("#",""),s=e.closest(".fansub-tabber-widget"),i=s.find('div[id^="'+o+'"]');s.find(".tab-pane").removeClass("active"),i.addClass("active")}))}(),function(){var a=t(".single-product.woocommerce .modal.product-fast-buy");a.length&&a.on("click",".customer-info form button",function(a){a.preventDefault();var e=t(this),o=e.closest(".modal-body"),s=o.find(".attributes-form"),i=[],n=e.closest("form"),c=n.find(".full-name"),r=n.find(".phone"),d=n.find(".email"),l=n.find(".address"),p=n.find(".message");c.prop("required")&&!t.trim(c.val())?c.focus():r.prop("required")&&!t.trim(r.val())?r.focus():d.prop("required")&&!t.trim(d.val())?d.focus():l.prop("required")&&!t.trim(l.val())?l.focus():p.prop("required")&&!t.trim(p.val())?p.focus():(e.addClass("disabled"),s.length&&s.find("select").each(function(){var a=t(this),e={name:a.attr("data-attribute_name"),value:a.val()};i.push(e)}),t.ajax({type:"POST",dataType:"json",url:fansub.ajax_url,data:{action:"fansub_wc_order_item",post_id:e.attr("data-id"),name:c.val(),phone:r.val(),email:d.val(),message:p.val(),address:l.val(),attributes:i},success:function(a){t.trim(a.html_data)&&o.html(a.html_data)}}))})}(),function(){var a=t(".fansub-subscribe-widget");a.length&&a.find(".fansub-subscribe-form").on("submit",function(a){a.preventDefault();var e=t(this),o=e.find(".messages"),s=e.attr("data-captcha"),i=e.attr("data-register"),n=e.find('input[type="submit"]'),c=e.find(".input-email"),r=e.find(".input-name"),d=e.find(".input-phone"),l=e.find(".fansub-captcha-code"),p="";r.length&&r.prop("required")&&!t.trim(r.val())?r.focus():d.length&&d.prop("required")&&!t.trim(d.val())?d.focus():c.length&&c.prop("required")&&!t.trim(c.val())?c.focus():l.length&&l.prop("required")&&!t.trim(l.val())?l.focus():(l.length&&(p=l.val()),n.addClass("disabled"),e.find(".img-loading").show(),t.ajax({type:"POST",dataType:"json",url:fansub.ajax_url,data:{action:"fansub_widget_subscribe",name:r.val(),phone:d.val(),email:c.val(),use_captcha:s,captcha:p,register:i},success:function(t){e.find(".img-loading").hide(),l.next().next().trigger("click"),o.html(t.message),t.success||n.removeClass("disabled")}}))})}(),function(){t(".fansub").on("click",".save-post, .favorite-post, .interest-post, .love-post",function(e){if(e.preventDefault(),a.hasClass("fansub-user")){var o=t(this),s=o.attr("data-post-id");o.addClass("disabled"),t.ajax({type:"POST",dataType:"json",url:fansub.ajax_url,data:{action:"fansub_favorite_post",post_id:s},success:function(t){t.success&&(o.html(t.html_data),o.removeClass("disabled"))}})}else window.location.href=fansub.login_url})}()});